{
  "hash": "97c1da55fe2663479486a3634b7f065c",
  "result": {
    "markdown": "---\ntitle: \"MAPAS\"\nauthor: \"Yuri\"\nformat: html\n---\n\n\n## Como confeccionar mapas\nPrincipais pacotes\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-1_b3a122fd37037a745bdbe3f1671b3f0c'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(readr)\nlibrary(ggplot2)\nlibrary(r4pde) \nlibrary(rnaturalearth)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nThe legacy packages maptools, rgdal, and rgeos, underpinning this package\nwill retire shortly. Please refer to R-spatial evolution reports on\nhttps://r-spatial.org/r/2023/05/15/evolution4.html for details.\nThis package is now running under evolution status 0 \nSupport for Spatial objects (`sp`) will be deprecated in {rnaturalearth} and will be removed in a future release of the package. Please use `sf` objects with {rnaturalearth}. For example: `ne_download(returnclass = 'sf')`\n```\n:::\n\n```{.r .cell-code}\nlibrary(rnaturalearthhires) ##advindo do github utilizando remotes::install_github (pacote)\n```\n:::\n\n\nDados: Para plotagem do mapa de um determinado pais\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-2_8d0ec15648ddb2476dd14752f2b8f606'}\n\n```{.r .cell-code}\nsbr <- RustSoybean\n\nBRA <- ne_countries(country = \"Brazil\", \n                    returnclass = \"sf\")\nggplot(BRA) +\ngeom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## Plotagem de estados\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-3_5f56a322e67c443cb9ac645d59f65096'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nggplot(BRA) +\ngeom_sf(color = \"white\",\n          fill = \"darkgreen\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nSelecionando um estado\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-4_18cbc4adbc29f9012c71099540d10090'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_sf(data = MG, color = \"black\",\n            fill = \"green\")\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nPara plotarmos pontos especificos no mapa (log . lat).\nNecessitamos das cordenadas (utilizamos materiais obtidos da internet).\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-5_3751b7cfa89b18855aea33c2c0e3e328'}\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr, aes(longitude, latitude), alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\nPar separarmos os pontos de acordo com caracteristicas especificas (no caso em questão\nos anos de amostragem)\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-6_ac313c0152e650467c06067612a4b20e'}\n\n```{.r .cell-code}\nsbr2 <- sbr |>\n  separate(planting, into = \n             c(\"year\", \"month\", \"day\"), sep = \"-\", remove = FALSE)\n\nBRA <- ne_states(country = \"Brazil\", \n                    returnclass = \"sf\")\nMG <- BRA |> filter(name_en == \"Minas Gerais\")\nggplot(BRA) +\ngeom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr2,\n             aes(longitude, latitude, color = year), alpha = 0.5)+\n  facet_wrap(~year)+\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Inserindo rosa dos ventos e escala\n\n\n::: {.cell hash='aula16_cache/html/unnamed-chunk-7_7df3e3886b503c00020e29877f923fdf'}\n\n```{.r .cell-code}\nlibrary(ggspatial)\nggplot(BRA) +\n  annotation_north_arrow(location = \"bl\")+\n  annotation_scale(location = \"br\")+\n  geom_sf(color = \"black\",\n          fill = \"white\") +\n  geom_point(data = sbr2,\n             aes(longitude, latitude, color = year, size = severity), alpha = 0.5)+\n  labs(color = \"Planting Year\")+\n  theme_minimal()+\n  theme(legend.position = \"right\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nScale on map varies by more than 10%, scale bar may be inaccurate\n```\n:::\n\n::: {.cell-output-display}\n![](aula16_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}